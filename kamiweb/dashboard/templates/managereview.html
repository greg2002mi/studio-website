{% extends "base-admin.html" %}
{% load i18n %}
{% load static %}

{% block head_js %}
<script src="{% static 'js/dropzone.min.js' %}"></script>
<link rel="stylesheet" href="{% static 'css/dropzone.min.css' %}" type="text/css" />
<link rel="stylesheet" href="{% static 'css/w3.css' %}"/>
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.css" />
<link rel="stylesheet" src="{% static '/datatables/datatables_style.css' %}"></link>
<link rel="stylesheet" href="{% static 'css/flatpickr.min.css' %}">
<script src="{% static 'js/flatpickr.js' %}"></script>
<script src="{% static 'js/django-flatpickr.js' %}"></script>
<style>
label {
    color: #555555;  /* Dark grey color */
}
<style>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.js"></script>
<script>
  // Initialize the date and time picker for the date_time and date_end fields
  flatpickr('.datetimepicker', {
            enableTime: true,
            dateFormat: 'Y-m-d H:i'
        });

</script>
<script>
$(document).ready(function() {
    $('#filterservice').DataTable({
        "columnDefs": [
            { "orderable": false, "targets": [] } // Disable sorting for columns 4, and 5
        ]
    });
});

</script>
{% endblock %}

{% block app_content %}
{% load crispy_forms_tags %}  

    <div class="py-vh-6 bg-gray-100 text-light w-100 overflow-hidden" id="workwithus">
      <div class="container">
			<div class="row d-flex justify-content-center text-center">
            <div class="col-lg-10 text-center" data-aos="fade">
              <p class="text-secondary lead">{% translate "Manage reviews" %}</p>		 
					 
				</div>	 
			</div>	
          

        
      </div>
    </div>
	
	<div class="py-vh-6 bg-gray-300 text-light w-100 overflow-hidden" id="workwithus">
      <div class="container">
        <div class="row d-flex justify-content-center">
          <div class="row d-flex justify-content-center text-center">
            <div class="col-lg-12 text-center" data-aos="fade">
              <!--<p class="text-secondary lead">{% translate "All publications:" %}</p>-->
              <h2 class="display-6 mb-5">{% translate "All data:" %}</h2>
            </div>
            <div class="col-12">
              <table class="table table-responsive text-nowrap" style="" id="filterservice">
				<thead>
					<tr class="table-dark">
					  <th scope="col">#</th>
					  <th scope="col">{% translate "Upload date" %}</th>
					  <th scope="col">{% translate "name" %}</th>
					  <th scope="col">{% translate "role" %}</th>
					  <th scope="col">{% translate "company" %}</th>
					  <th scope="col">{% translate "content" %}</th>
					  <th scope="col">{% translate "Action" %}</th>
					</tr>
				</thead>
				<tbody>
					{% for s in rw_data %}
					<tr class="table-dark">
					  
					   <th scope="row">{{ s.id }}</th>
					  <td>{{ s.created_on }}</td>
					  <td>{{ s.name | truncatechars:30 }}</td>
					  <td>{{ s.role | truncatechars:30 }}</td>
					  <td>{{ s.company | truncatechars:30 }}</td>
					  <td>{% if s.content %}<button type="button" class="btn btn-secondary"
							data-bs-toggle="popover" data-bs-placement="bottom" data-bs-trigger="focus"
							data-bs-custom-class="custom-popover"
							data-bs-title="{% translate 'Content' %}"
							data-bs-content="{{ s.content }}">
					  {% translate "Content" %}
					</button>
					{% else %}
					<span class="d-inline-block" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="Disabled popover">
					  <button class="btn btn-primary" type="button" disabled>{% translate "No review content" %}</button>
					</span>
						{% endif %}</td>
					  <td><a class="btn btn-danger btn-sm" href="{% url 'delete_rw' entry=s.id %}" role="button">{% translate "Delete" %}</a>
					  </td>
					</tr>
					{% endfor %}
				</tbody>
			  </table>
            </div>
			<div class="col-12">
			<p style="color: black;"> {% translate "Just in case, here is a link to provide for reviews: http://www.kamiproduction.com/write_review" %} </p>
			</div>
          </div>

        </div>
      </div>
    </div>
  {% endblock %}